# Database Configuration
SOURCE_DB_URL=postgresql://user:password@source-db-host:5432/source_db
DESTINATION_DB_URL=postgresql://user:password@postgres:5432/pipeline_db

# Redis Configuration
REDIS_URL=redis://redis:6379/0
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0

# Celery Configuration
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=["json"]
CELERY_TIMEZONE=UTC

# Worker Configuration
WORKER_CONCURRENCY=4
WORKER_PREFETCH_MULTIPLIER=4
WORKER_MAX_TASKS_PER_CHILD=1000

# Pipeline Configuration
DEFAULT_BATCH_SIZE=10000
MAX_BATCH_SIZE=100000
PIPELINE_LOG_LEVEL=INFO

# Retry Configuration
MAX_RETRY_ATTEMPTS=3
RETRY_BACKOFF_BASE=2
RETRY_BACKOFF_MAX=300

# Idempotency Configuration
IDEMPOTENCY_KEY_TTL_DAYS=7
IDEMPOTENCY_REDIS_PREFIX=pipeline:idempotency:

# Schema Evolution
SCHEMA_REGISTRY_ENABLED=true
SCHEMA_AUTO_MIGRATE=true
SCHEMA_VERSION_TABLE=schema_versions

# Connection Pool Configuration
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_RECYCLE=3600
DB_POOL_TIMEOUT=30

# Logging
LOG_FORMAT=json
LOG_LEVEL=INFO

# API Configuration (optional)
API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=false
